⸻



# VK Echo Bot

Тестовое задание — Echo бот для ВКонтакте на Java + Spring Boot.

Бот принимает сообщения от пользователей и отвечает им тем же текстом (echo функциональность).

---

## Стек технологий

- Java 17
- Spring Boot
- VK Callback API (Webhook)
- RestTemplate для запросов в VK API
- Gradle
- Ngrok для локального тестирования

---

## Описание работы

1. ВК присылает события (Callback API) на эндпоинт `/vk`.
2. При событии `message_new` бот:
   - Получает user_id отправителя.
   - Получает текст сообщения.
   - Отправляет этот же текст пользователю обратно через VK API методом `messages.send`.
3. Возвращает `ok` для подтверждения обработки события.

---

## Как запустить проект

### 1. Клонировать репозиторий

```bash
git clone https://github.com/matos009/echo-bot-vk.git
cd echo-bot-vk



⸻

2. Настроить конфигурацию приложения

В файле src/main/resources/application.properties указать данные своего бота ВКонтакте:

vk.confirmation-code=ВАШ_КОД_ПОДТВЕРЖДЕНИЯ_ОТ_VK
vk.token=ВАШ_ТОКЕН_ДОСТУПА_ОТ_VK
vk.secret=ВАШ_СЕКРЕТНЫЙ_КЛЮЧ_ОТ_VK
vk.group-id=ID_ВАШЕЙ_ГРУППЫ



⸻

3. Запуск приложения

./gradlew bootRun



⸻

4. Запуск ngrok для проброса локального сервера в интернет

ngrok http 8080

Скопировать URL из ngrok вида:

https://xxxxx.ngrok.io/vk

И указать его в настройках Callback API ВКонтакте.

⸻

5. Проверка работы

Написать в сообщения группы любое сообщение, например:

Привет

Бот ответит тем же текстом:

Привет



⸻

Структура проекта

src/main/java/com/videohosting/echobot/
├── controller    // Контроллер для приёма событий VK
├── service       // Сервис обработки логики
├── clientW       // VK API Client для отправки сообщений
├── model         // DTO для маппинга JSON от VK
└── EchoBotApplication.java  // Точка входа



⸻

Примечания
	•	Взаимодействие с VK API реализовано вручную без использования сторонних библиотек.
	•	Обработка событий реализована через стандартный REST Controller.
	•	Проект оформлен как Spring Boot приложение.

⸻
